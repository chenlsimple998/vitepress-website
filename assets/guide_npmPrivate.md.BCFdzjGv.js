import{_ as i}from"./chunks/verdaccio.PHQUVwuk.js";import{_ as a,c as n,o as t,ao as l}from"./chunks/framework.BO3ojR9h.js";const E=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"guide/npmPrivate.md","filePath":"guide/npmPrivate.md","lastUpdated":1741355422000}'),e={name:"guide/npmPrivate.md"};function p(h,s,r,k,d,o){return t(),n("div",null,s[0]||(s[0]=[l(`<p>npm私服：</p><h3 id="使用verdaccio" tabindex="-1">使用verdaccio <a class="header-anchor" href="#使用verdaccio" aria-label="Permalink to &quot;使用verdaccio&quot;">​</a></h3><ul><li><strong>verdaccio</strong>：是一个轻量级的、易于搭建和配置的npm私服工具，它支持多种存储方式，并且有友好的Web界面，方便管理和查看包的信息。</li></ul><h3 id="安装与配置" tabindex="-1">安装与配置 <a class="header-anchor" href="#安装与配置" aria-label="Permalink to &quot;安装与配置&quot;">​</a></h3><p>verdaccio：</p><ul><li><strong>安装</strong>：确保已经安装了Node.js和npm，在命令行中执行<code>npm install -g verdaccio</code>即可全局安装verdaccio。</li><li><strong>配置</strong>：安装完成后，在命令行中执行<code>verdaccio</code>，它会在默认目录下生成配置文件<code>config.yaml</code>。可根据需求进行修改，比如修改存储路径、添加用户认证等。以下是一个简单的配置示例：</li></ul><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">storage:./storage</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 包存储路径</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">auth</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  htpasswd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    file:./htpasswd</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 用户认证文件路径</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">uplinks</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  npmjs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    url</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">https://registry.npmjs.org/</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 上游npm仓库地址</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">packages</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;@*/*&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    access</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$all</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    publish</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$authenticated</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    proxy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">npmjs</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;**&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    access</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$all</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    publish</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$authenticated</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    proxy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">npmjs</span></span></code></pre></div><ul><li><strong>启动服务</strong>：在命令行中执行<code>verdaccio</code>，即可启动私服服务。默认情况下，verdaccio会监听在<code>http://localhost:4873</code>。</li></ul><h3 id="客户端配置" tabindex="-1">客户端配置 <a class="header-anchor" href="#客户端配置" aria-label="Permalink to &quot;客户端配置&quot;">​</a></h3><ul><li><strong>配置npm源</strong>：在项目的根目录下，执行<code>npm config set registry http://localhost:4873</code>，将npm源指向私服地址。也可以通过修改<code>.npmrc</code>文件来配置，在文件中添加<code>registry=http://localhost:4873</code>。</li><li><strong>添加用户</strong>：执行<code>npm adduser --registry http://localhost:4873</code>，按照提示输入用户名、密码和邮箱，即可在私服中添加用户。</li><li><strong>发布包</strong>：在项目目录下，执行<code>npm publish --registry http://localhost:4873</code>，即可将本地的npm包发布到私服上。</li><li><strong>安装包</strong>：执行<code>npm install [package name] --registry http://localhost:4873</code>，可以从私服安装所需的包。</li></ul><p><img src="`+i+'" alt="案例"></p><ul><li><strong>details</strong></li></ul><p><a href="https://verdaccio.org/zh-cn/docs/cli-registry/" target="_blank" rel="noreferrer">Verdaccio 客户端文档</a></p>',13)]))}const y=a(e,[["render",p]]);export{E as __pageData,y as default};
